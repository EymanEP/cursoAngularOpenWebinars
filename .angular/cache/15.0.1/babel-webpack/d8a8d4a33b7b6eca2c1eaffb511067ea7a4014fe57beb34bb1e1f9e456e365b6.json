{"ast":null,"code":"import { Usuario } from 'src/app/shared/classes/usuario';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared/services/login.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Campo requerido\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, LoginComponent_div_8_div_1_Template, 2, 0, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.errors == null ? null : _r1.errors.required);\n  }\n}\nfunction LoginComponent_div_14_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Campo requerido\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_14_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"M\\u00EDnimo 4 caracteres\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, LoginComponent_div_14_div_1_Template, 2, 0, \"div\", 13);\n    i0.ɵɵtemplate(2, LoginComponent_div_14_div_2_Template, 2, 0, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(13);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors == null ? null : _r3.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors == null ? null : _r3.errors.minlength);\n  }\n}\nexport class LoginComponent {\n  constructor(loginService, router) {\n    this.loginService = loginService;\n    this.router = router;\n    this.usuario = new Usuario();\n  }\n  ngOnInit() {}\n  submit() {\n    this.loginService.login(this.usuario).subscribe(data => {\n      localStorage.setItem('nombreUsuario', this.usuario.nombre);\n      localStorage.setItem('miTokenPersonal', `${data}`);\n      this.router.navigate(['/listado']);\n    }, error => {\n      console.error(\"Error al realizar el acceso\");\n    });\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.LoginService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 17,\n    vars: 5,\n    consts: [[\"id\", \"contenedor\", 1, \"form\"], [3, \"ngSubmit\"], [\"usuarioForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"usuario\"], [\"type\", \"text\", \"name\", \"nombre\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"nombre\", \"ngModel\"], [\"class\", \"alert\", 4, \"ngIf\"], [\"for\", \"contrasegna\"], [\"type\", \"password\", \"name\", \"contrasegna\", \"required\", \"\", \"minlength\", \"4\", 3, \"ngModel\", \"ngModelChange\"], [\"contrasegna\", \"ngModel\"], [\"type\", \"submit\", 3, \"disabled\"], [1, \"alert\"], [4, \"ngIf\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1, 2);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_1_listener() {\n          return ctx.submit();\n        });\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"label\", 4);\n        i0.ɵɵtext(5, \"Nombre:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"input\", 5, 6);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.usuario.nombre = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, LoginComponent_div_8_Template, 2, 1, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\", 8);\n        i0.ɵɵtext(11, \"Contrase\\u00F1a:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"input\", 9, 10);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.usuario.contrasegna = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(14, LoginComponent_div_14_Template, 3, 2, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"button\", 11);\n        i0.ɵɵtext(16, \"Entrar\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(2);\n        const _r1 = i0.ɵɵreference(7);\n        const _r3 = i0.ɵɵreference(13);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.usuario.nombre);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r1.invalid && _r1.dirty);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.usuario.contrasegna);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r3.invalid && _r3.dirty);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n      }\n    },\n    dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinLengthValidator, i4.NgModel, i4.NgForm],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"AAGA,SAASA,OAAO,QAAQ,gCAAgC;;;;;;;;ICShDC,2BAAqC;IAAAA,+BAAe;IAAAA,iBAAM;;;;;IAD5DA,+BAA0D;IACxDA,sEAA0D;IAC5DA,iBAAM;;;;;IADEA,eAA6B;IAA7BA,sEAA6B;;;;;IAcnCA,2BAA0C;IAAAA,+BAAe;IAAAA,iBAAM;;;;;IAC/DA,2BAA2C;IAAAA,wCAAmB;IAAAA,iBAAM;;;;;IAFtEA,+BAAoE;IAClEA,uEAA+D;IAC/DA,uEAAoE;IACtEA,iBAAM;;;;;IAFEA,eAAkC;IAAlCA,sEAAkC;IAClCA,eAAmC;IAAnCA,uEAAmC;;;ADhBjD,OAAM,MAAOC,cAAc;EAIzBC,YACUC,YAA0B,EAC1BC,MAAc;IADd,iBAAY,GAAZD,YAAY;IACZ,WAAM,GAANC,MAAM;IACd,IAAI,CAACC,OAAO,GAAG,IAAIN,OAAO,EAAE;EAC9B;EAEAO,QAAQ,IACR;EAEOC,MAAM;IAEX,IAAI,CAACJ,YAAY,CAACK,KAAK,CAAC,IAAI,CAACH,OAAO,CAAC,CAACI,SAAS,CAC5CC,IAAY,IAAI;MACfC,YAAY,CAACC,OAAO,CAAC,eAAe,EAAE,IAAI,CAACP,OAAO,CAACQ,MAAM,CAAC;MAC1DF,YAAY,CAACC,OAAO,CAAC,iBAAiB,EAAC,GAAIF,IAAK,EAAE,CAAC;MAEnD,IAAI,CAACN,MAAM,CAACU,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;IACpC,CAAC,EACAC,KAAY,IAAI;MACfC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAC;IAC9C,CAAC,CACF;EACH;EAAC;qBA1BUd,cAAc;EAAA;EAAA;UAAdA,cAAc;IAAAgB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCX3BrB,8BAAkC;QAC1BA;UAAA,OAAYsB,YAAQ;QAAA,EAAC;QACzBtB,8BAAwB;QACDA,uBAAO;QAAAA,iBAAQ;QACpCA,mCAME;QAJAA;UAAA;QAAA,EAA4B;QAF9BA,iBAME;QACFA,+DAEM;QACRA,iBAAM;QACNA,8BAAwB;QACGA,iCAAW;QAAAA,iBAAQ;QAC5CA,qCAOE;QALAA;UAAA;QAAA,EAAiC;QAFnCA,iBAOE;QACFA,iEAGM;QACRA,iBAAM;QAENA,mCAA2D;QAAAA,uBAAM;QAAAA,iBAAS;;;;;;QAzBtEA,eAA4B;QAA5BA,4CAA4B;QAKxBA,eAAoC;QAApCA,+CAAoC;QAQxCA,eAAiC;QAAjCA,iDAAiC;QAM7BA,eAA8C;QAA9CA,+CAA8C;QAMhCA,eAAoC;QAApCA,0CAAoC","names":["Usuario","i0","LoginComponent","constructor","loginService","router","usuario","ngOnInit","submit","login","subscribe","data","localStorage","setItem","nombre","navigate","error","console","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/ayen/Repos/cursoAngularOpenWebinars/src/app/views/login/login.component.ts","/home/ayen/Repos/cursoAngularOpenWebinars/src/app/views/login/login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { Usuario } from 'src/app/shared/classes/usuario';\nimport { LoginService } from 'src/app/shared/services/login.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  // Atributos\n  public usuario: Usuario\n\n  constructor(\n    private loginService: LoginService,\n    private router: Router) {\n    this.usuario = new Usuario();\n  }\n\n  ngOnInit(): void {\n  }\n\n  public submit(): void {\n\n    this.loginService.login(this.usuario).subscribe(\n      (data: number) => {\n        localStorage.setItem('nombreUsuario', this.usuario.nombre);\n        localStorage.setItem('miTokenPersonal',`${ data }`);\n\n        this.router.navigate(['/listado']);\n      },\n      (error: Error) => {\n        console.error(\"Error al realizar el acceso\");\n      }\n    )\n  }\n\n}","<div id=\"contenedor\" class=\"form\">\n  <form (ngSubmit)=\"submit()\" #usuarioForm=\"ngForm\">\n    <div class=\"form-group\">\n      <label for=\"usuario\">Nombre:</label>\n      <input\n        type=\"text\"\n        [(ngModel)]=\"usuario.nombre\"\n        name=\"nombre\"\n        #nombre=\"ngModel\"\n        required\n      />\n      <div *ngIf=\"nombre.invalid && nombre.dirty\" class=\"alert\">\n        <div *ngIf=\"nombre.errors?.required\">Campo requerido</div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"contrasegna\">Contraseña:</label>\n      <input\n        type=\"password\"\n        [(ngModel)]=\"usuario.contrasegna\"\n        name=\"contrasegna\"\n        #contrasegna=\"ngModel\"\n        required\n        minlength=\"4\"\n      />\n      <div *ngIf=\"contrasegna.invalid && contrasegna.dirty\" class=\"alert\">\n        <div *ngIf=\"contrasegna.errors?.required\">Campo requerido</div>\n        <div *ngIf=\"contrasegna.errors?.minlength\">Mínimo 4 caracteres</div>\n      </div>\n    </div>\n\n    <button type=\"submit\" [disabled]=\"!usuarioForm.form.valid\">Entrar</button>\n  </form>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}